# WebAR-Test2 - Проектна документація

## Загальний огляд

WebAR-Test2 - це веб-додаток доповненої реальності (WebAR), який використовує AR-маркери для відображення 3D-контенту, зображень та відео. Проект базується на бібліотеці AR.js, яка використовує jsartoolkit5 для виявлення маркерів та Three.js для візуалізації 3D-об'єктів.

## Архітектура проекту

### Основні компоненти

- **index.html** - головний файл додатку, що містить HTML-структуру та JavaScript-логіку
- **config.json** - конфігураційний файл, що визначає параметри додатку та маркери
- **js/** - директорія з бібліотеками (Three.js, tween.js)
- **jsartoolkit5/** - директорія з бібліотекою jsartoolkit5 для виявлення маркерів
- **threex/** - директорія з допоміжними компонентами для інтеграції AR.js з Three.js
- **loaders/** - директорія з завантажувачами 3D-моделей (GLTFLoader, OBJLoader тощо)
- **data/** - директорія з даними (камера параметри, текстури)
- **textures/** - директорія з текстурами для 3D-об'єктів
- **docs/** - директорія з документацією

### Залежності

- Three.js - бібліотека для 3D-графіки
- AR.js - бібліотека для веб-доповненої реальності
- jsartoolkit5 - бібліотека для виявлення AR-маркерів
- GLTFLoader, OBJLoader - завантажувачі 3D-моделей
- tween.js - бібліотека для анімацій

## Функціональність

### Типи контенту

Додаток підтримує кілька типів контенту, які можна відображати за допомогою AR-маркерів:

1. **Моделі (model)** - 3D-моделі у форматах GLB/GLTF
2. **Зображення (image)** - 2D-зображення
3. **Відео (video)** - відеофайли
4. **Примітиви (primitive)** - прості 3D-геометрії (куби, сфери, циліндри тощо)
5. **Контролери (controller)** - інтерактивні об'єкти для взаємодії

### Типи маркерів

Додаток підтримує два типи AR-маркерів:

1. **Pattern** - зображення-патерн, яке використовується для виявлення
2. **Barcode** - баркоди 3x3 для виявлення

### Анімація

Додаток підтримує анімацію обертання для примітивів та 3D-моделей з наступними параметрами:

- `type` - тип анімації ("rotation")
- `axis` - вісь обертання ("x", "y" або "z")
- `speed` - швидкість обертання

### Текстури

Для примітивів можна застосовувати текстури з файлової системи, що дозволяє створювати більш реалістичні 3D-об'єкти.

## Конфігурація

### Основні параметри

Конфігурація додатку зберігається в файлі `config.json` і містить:

- `settings.resolution` - роздільна здатність веб-камери ("high" або "low")
- `settings.welcomeText` - привітальний текст, що відображається перед входом у додаток
- `markers` - масив конфігурацій для кожного AR-маркера

### Структура маркера

Кожен маркер має наступну структуру:

- `id` - унікальний ідентифікатор
- `type` - тип маркера ("pattern" або "barcode")
- `target` - шлях до файлу патерну або номер баркоду
- `contentType` - тип контенту
- Додаткові параметри залежно від типу контенту

### Підтримувані геометрії для примітивів

- `BoxGeometry` - куб або прямокутний паралелепіпед
- `SphereGeometry` - сфера
- `CylinderGeometry` - циліндр
- `ConeGeometry` - конус
- `TorusGeometry` - тор (бублик)

## Взаємодія

Додаток підтримує інтерактивність через спеціальні контролери - зелені куби, які можуть виявляти зіткнення з іншими 3D-об'єктами та змінювати їхній колір при контакті.

## Мультимедіа

Додаток підтримує відтворення аудіо та відео контенту, пов'язаного з AR-маркерами. При виявленні маркера відтворюється відповідний аудіо- або відеофайл.

## Технічні особливості

### Камера

- Використовується веб-камера пристрою
- Підтримуються різні роздільні здатності (низька: 640x480, висока: 1280x720)
- Калібрування камери здійснюється через файл `data/camera_para.dat`

### Відображення

- Використовується WebGL для рендерингу 3D-сцени
- Підтримка антialiasing та альфа-каналу
- Автоматичне масштабування під розмір вікна браузера

### Підтримка різних форматів

- 3D-моделі: GLB, GLTF
- Зображення: PNG, JPG
- Відео: MP4
- Текстури: JPG, PNG

## Джерела та посилання

Джерела коду та інструментів, використаних у проекті:

- https://github.com/OS-IS/WebAR-Template
- https://github.com/Information-System-ICS/SheepFarmGame
- QR-код генератор: https://www.qrcode-monkey.com/#
- Генератор баркод-маркерів: https://au.gmented.com/app/marker/marker.php
- Генератор патерн-маркерів: https://jeromeetienne.github.io/AR.js/three.js/examples/marker-training/examples/generator.html
- колекція маркерів - https://github.com/nicolocarpignoli/artoolkit-barcode-markers-collection/tree/master


## Висновки

WebAR-Test2 є комплексним веб-додатком доповненої реальності, який дозволяє відображати різноманітний 3D-контент за допомогою AR-маркерів. Проект добре структурований, має гнучку систему конфігурації та підтримує різні типи контенту. Він може бути використаний як шаблон для розробки інших WebAR-додатків.